<div id="register-ruc-form-wrapper">
    <form hx-post="{{ url_for('onboarding_finalize_htmx') }}" hx-target="#register-ruc-form-wrapper">
        <div class="modal-header">
            <h2 class="modal-title">Asocia un nuevo RUC</h2>
            <button type="button" class="modal-close-btn" data-modal-close>×</button>
        </div>
        <div class="modal-body">
            <p class="text-gray-400 mb-6">Completa los datos de tu empresa.</p>
            <div class="space-y-4">
                <div class="form-group"><label for="client_ruc_modal" class="form-label">Tu RUC</label><div class="relative"><input type="text" id="client_ruc_modal" name="client_ruc" class="form-input" required placeholder="Ingresa tu RUC"><div id="ruc-spinner" class="absolute inset-y-0 right-0 flex items-center pr-3 hidden"><svg class="animate-spin h-5 w-5 text-indigo-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"></path></svg></div></div></div>
                <div id="ruc-details" class="hidden space-y-4"><div class="form-group"><label class="form-label">Razón Social</label><input type="text" id="business_name" name="business_name" class="form-input bg-gray-700" readonly></div><div class="form-group"><label class="form-label">Dirección Fiscal</label><input type="text" id="business_address" name="business_address" class="form-input bg-gray-700" readonly></div></div>
                <div class="form-group"><label for="sol_username_modal" class="form-label">Usuario SOL</label><input type="text" id="sol_username_modal" name="sol_username" class="form-input" required></div>
                <div class="form-group"><label for="sol_password_modal" class="form-label">Clave SOL</label><input type="password" id="sol_password_modal" name="sol_password" class="form-input" required></div>
                <div class="form-group"><label for="sol_password_confirm_modal" class="form-label">Confirmar Clave SOL</label><input type="password" id="sol_password_confirm_modal" name="sol_password_confirm" class="form-input" required></div>
                <div class="form-group"><label for="contact_phone_modal" class="form-label">N° de WhatsApp</label><input type="tel" id="contact_phone_modal" name="contact_phone" class="form-input" placeholder="Ej: 987654321"></div>
                <div class="flex items-center"><input type="checkbox" id="terms_modal" name="terms" required class="h-4 w-4 rounded"><label for="terms_modal" class="ml-2 text-sm text-gray-300">Acepto los <a href="{{ url_for('terms_page') }}" target="_blank" class="text-indigo-400 hover:underline">Términos</a>.</label></div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="modal-button-secondary" data-modal-close>Cancelar</button>
            <button type="submit" class="modal-button-primary">Asociar RUC</button>
        </div>
    </form>
</div>