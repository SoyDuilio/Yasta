<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboards RER - Inteligencia Empresarial</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #0f1419 0%, #1a1f2e 100%);
            color: #e2e8f0;
            overflow-x: auto;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            background: rgba(15, 23, 42, 0.8);
            padding: 25px;
            border-radius: 16px;
            border: 1px solid rgba(148, 163, 184, 0.1);
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #60a5fa, #3b82f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .header p {
            color: #94a3b8;
            font-size: 1.1rem;
        }

        .dashboard-selector {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .selector-btn {
            background: linear-gradient(135deg, #1e293b, #334155);
            border: 1px solid rgba(148, 163, 184, 0.2);
            color: #e2e8f0;
            padding: 12px 24px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            position: relative;
            overflow: hidden;
        }

        .selector-btn:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left 0.5s;
        }

        .selector-btn:hover:before {
            left: 100%;
        }

        .selector-btn:hover {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3);
        }

        .selector-btn.active {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
        }

        .dashboard {
            display: none;
        }

        .dashboard.active {
            display: block;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            background: rgba(15, 23, 42, 0.9);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid rgba(148, 163, 184, 0.1);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .card:hover {
            transform: translateY(-4px);
            border-color: rgba(59, 130, 246, 0.3);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }

        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .card-icon {
            width: 24px;
            height: 24px;
            margin-right: 12px;
            opacity: 0.8;
        }

        .card-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #f1f5f9;
        }

        .metric {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 0;
            border-bottom: 1px solid rgba(148, 163, 184, 0.1);
        }

        .metric:last-child {
            border-bottom: none;
        }

        .metric-label {
            color: #94a3b8;
            font-size: 0.9rem;
        }

        .metric-value {
            font-size: 1.1rem;
            font-weight: 600;
            color: #f1f5f9;
        }

        .metric-value.positive {
            color: #10b981;
        }

        .metric-value.negative {
            color: #ef4444;
        }

        .metric-value.warning {
            color: #f59e0b;
        }

        .chart-container {
            position: relative;
            height: 300px;
            margin-top: 20px;
        }

        .alert {
            padding: 16px;
            border-radius: 12px;
            margin-bottom: 20px;
            border-left: 4px solid;
        }

        .alert-danger {
            background: rgba(239, 68, 68, 0.1);
            border-color: #ef4444;
            color: #fca5a5;
        }

        .alert-warning {
            background: rgba(245, 158, 11, 0.1);
            border-color: #f59e0b;
            color: #fcd34d;
        }

        .alert-success {
            background: rgba(16, 185, 129, 0.1);
            border-color: #10b981;
            color: #6ee7b7;
        }

        .table-container {
            overflow-x: auto;
            margin-top: 20px;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            background: rgba(15, 23, 42, 0.5);
            border-radius: 8px;
            overflow: hidden;
        }

        .table th,
        .table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid rgba(148, 163, 184, 0.1);
        }

        .table th {
            background: rgba(59, 130, 246, 0.1);
            font-weight: 600;
            color: #f1f5f9;
        }

        .table td {
            color: #e2e8f0;
        }

        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .kpi-card {
            background: linear-gradient(135deg, #1e293b, #334155);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            border: 1px solid rgba(148, 163, 184, 0.1);
            transition: all 0.3s ease;
        }

        .kpi-card:hover {
            transform: scale(1.02);
            border-color: rgba(59, 130, 246, 0.3);
        }

        .kpi-value {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .kpi-label {
            color: #94a3b8;
            font-size: 0.9rem;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(148, 163, 184, 0.2);
            border-radius: 4px;
            overflow: hidden;
            margin: 12px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6, #60a5fa);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        @media (max-width: 768px) {
            .dashboard-selector {
                flex-direction: column;
                align-items: center;
            }
            
            .selector-btn {
                width: 250px;
                text-align: center;
            }
            
            .kpi-grid {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìä Dashboards RER</h1>
            <p>Inteligencia Empresarial para R√©gimen Especial de Renta - Per√∫</p>
        </div>

        <div class="dashboard-selector">
            <button class="selector-btn active" onclick="showDashboard('servicios')">
                üîß Empresas de Servicios
            </button>
            <button class="selector-btn" onclick="showDashboard('comercio')">
                üè™ Empresas de Comercio
            </button>
            <button class="selector-btn" onclick="showDashboard('productivas')">
                üè≠ Empresas Productivas
            </button>
        </div>

        <!-- Dashboard Servicios -->
        <div id="servicios" class="dashboard active">
            <div class="kpi-grid">
                <div class="kpi-card">
                    <div class="kpi-value positive">S/ 28,500</div>
                    <div class="kpi-label">Ingresos Agosto 2025</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 85%"></div>
                    </div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value warning">65%</div>
                    <div class="kpi-label">Concentraci√≥n Cliente Principal</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value positive">S/ 850</div>
                    <div class="kpi-label">Precio Promedio por Servicio</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value">S/ 2,280</div>
                    <div class="kpi-label">IGV por Pagar</div>
                </div>
            </div>

            <div class="alert alert-warning">
                ‚ö†Ô∏è <strong>Alerta de Riesgo:</strong> El 65% de tus ingresos provienen de un solo cliente. Considera diversificar tu cartera.
            </div>

            <div class="dashboard-grid">
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üë•</span>
                        <h3 class="card-title">Concentraci√≥n de Clientes</h3>
                    </div>
                    <div class="chart-container">
                        <canvas id="clientConcentrationChart"></canvas>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üíº</span>
                        <h3 class="card-title">Servicios M√°s Facturados</h3>
                    </div>
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Servicio</th>
                                    <th>Cantidad</th>
                                    <th>Monto Total</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Consultor√≠a IT</td>
                                    <td>12</td>
                                    <td>S/ 18,500</td>
                                </tr>
                                <tr>
                                    <td>Instalaci√≥n El√©ctrica</td>
                                    <td>8</td>
                                    <td>S/ 6,800</td>
                                </tr>
                                <tr>
                                    <td>Mantenimiento</td>
                                    <td>15</td>
                                    <td>S/ 3,200</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üìà</span>
                        <h3 class="card-title">Flujo Tributario</h3>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Renta Neta Mensual</span>
                        <span class="metric-value positive">S/ 4,275</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">IGV Pagado</span>
                        <span class="metric-value">S/ 2,280</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Costo Tributario Total</span>
                        <span class="metric-value">S/ 6,555</span>
                    </div>
                    <div class="chart-container">
                        <canvas id="taxFlowChart"></canvas>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üí∞</span>
                        <h3 class="card-title">Top Gastos Operativos</h3>
                    </div>
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Concepto</th>
                                    <th>Monto</th>
                                    <th>% del Total</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Internet & Software</td>
                                    <td>S/ 1,200</td>
                                    <td>35%</td>
                                </tr>
                                <tr>
                                    <td>Publicidad Digital</td>
                                    <td>S/ 800</td>
                                    <td>23%</td>
                                </tr>
                                <tr>
                                    <td>Asesor√≠a Contable</td>
                                    <td>S/ 600</td>
                                    <td>17%</td>
                                </tr>
                                <tr>
                                    <td>Transporte</td>
                                    <td>S/ 450</td>
                                    <td>13%</td>
                                </tr>
                                <tr>
                                    <td>Materiales</td>
                                    <td>S/ 400</td>
                                    <td>12%</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dashboard Comercio -->
        <div id="comercio" class="dashboard">
            <div class="kpi-grid">
                <div class="kpi-card">
                    <div class="kpi-value positive">S/ 45,200</div>
                    <div class="kpi-label">Ventas Agosto 2025</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 92%"></div>
                    </div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value">S/ 65</div>
                    <div class="kpi-label">Ticket Promedio</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value positive">S/ 1,580</div>
                    <div class="kpi-label">Venta Promedio Diaria</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value">8.2</div>
                    <div class="kpi-label">Rotaci√≥n Mensual</div>
                </div>
            </div>

            <div class="alert alert-success">
                ‚úÖ <strong>Excelente:</strong> Las ventas de agosto superaron el objetivo en 12%. Mant√©n el inventario del producto estrella.
            </div>

            <div class="dashboard-grid">
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üìä</span>
                        <h3 class="card-title">Ventas Diarias - Tendencia</h3>
                    </div>
                    <div class="chart-container">
                        <canvas id="dailySalesChart"></canvas>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üèÜ</span>
                        <h3 class="card-title">Top 10 Productos</h3>
                    </div>
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Producto</th>
                                    <th>Cantidad</th>
                                    <th>Ventas</th>
                                    <th>Rotaci√≥n</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Laptop HP Core i5</td>
                                    <td>25</td>
                                    <td>S/ 12,500</td>
                                    <td>‚≠ê‚≠ê‚≠ê</td>
                                </tr>
                                <tr>
                                    <td>Mouse Logitech</td>
                                    <td>85</td>
                                    <td>S/ 2,550</td>
                                    <td>‚≠ê‚≠ê‚≠ê‚≠ê</td>
                                </tr>
                                <tr>
                                    <td>Monitor 24"</td>
                                    <td>15</td>
                                    <td>S/ 4,500</td>
                                    <td>‚≠ê‚≠ê</td>
                                </tr>
                                <tr>
                                    <td>Teclado Mec√°nico</td>
                                    <td>40</td>
                                    <td>S/ 3,200</td>
                                    <td>‚≠ê‚≠ê‚≠ê</td>
                                </tr>
                                <tr>
                                    <td>Impresora Canon</td>
                                    <td>18</td>
                                    <td>S/ 5,400</td>
                                    <td>‚≠ê‚≠ê</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üè™</span>
                        <h3 class="card-title">Principales Proveedores</h3>
                    </div>
                    <div class="chart-container">
                        <canvas id="suppliersChart"></canvas>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üí≥</span>
                        <h3 class="card-title">An√°lisis de Ticket</h3>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Ticket Promedio Actual</span>
                        <span class="metric-value positive">S/ 65</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Ticket Promedio Anterior</span>
                        <span class="metric-value">S/ 58</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Variaci√≥n</span>
                        <span class="metric-value positive">+12%</span>
                    </div>
                    <div class="chart-container">
                        <canvas id="ticketTrendChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dashboard Productivas -->
        <div id="productivas" class="dashboard">
            <div class="kpi-grid">
                <div class="kpi-card">
                    <div class="kpi-value positive">68%</div>
                    <div class="kpi-label">Margen Bruto</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 68%"></div>
                    </div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value warning">+15%</div>
                    <div class="kpi-label">Incremento Costos vs Mes Anterior</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value positive">S/ 1,850</div>
                    <div class="kpi-label">Cr√©dito Fiscal IGV</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value">S/ 18,200</div>
                    <div class="kpi-label">Costo Total Insumos</div>
                </div>
            </div>

            <div class="alert alert-warning">
                ‚ö†Ô∏è <strong>Atenci√≥n:</strong> Los costos de insumos han subido 15% vs mes anterior. Considera ajustar precios de venta.
            </div>

            <div class="dashboard-grid">
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üìà</span>
                        <h3 class="card-title">Evoluci√≥n Costos vs Ingresos</h3>
                    </div>
                    <div class="chart-container">
                        <canvas id="costRevenueChart"></canvas>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üìä</span>
                        <h3 class="card-title">Margen Bruto Mensual</h3>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Ventas Totales</span>
                        <span class="metric-value positive">S/ 56,800</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Costos de Insumos</span>
                        <span class="metric-value negative">S/ 18,200</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Margen Bruto</span>
                        <span class="metric-value positive">S/ 38,600 (68%)</span>
                    </div>
                    <div class="chart-container">
                        <canvas id="marginChart"></canvas>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ü•ñ</span>
                        <h3 class="card-title">Top Insumos/Materia Prima</h3>
                    </div>
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Insumo</th>
                                    <th>Cantidad</th>
                                    <th>Costo</th>
                                    <th>% del Total</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Harina Premium</td>
                                    <td>500 kg</td>
                                    <td>S/ 6,500</td>
                                    <td>36%</td>
                                </tr>
                                <tr>
                                    <td>Az√∫car Refinada</td>
                                    <td>200 kg</td>
                                    <td>S/ 3,200</td>
                                    <td>18%</td>
                                </tr>
                                <tr>
                                    <td>Mantequilla</td>
                                    <td>80 kg</td>
                                    <td>S/ 2,800</td>
                                    <td>15%</td>
                                </tr>
                                <tr>
                                    <td>Huevos</td>
                                    <td>1,200 und</td>
                                    <td>S/ 2,400</td>
                                    <td>13%</td>
                                </tr>
                                <tr>
                                    <td>Levadura</td>
                                    <td>50 kg</td>
                                    <td>S/ 3,300</td>
                                    <td>18%</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">üßæ</span>
                        <h3 class="card-title">Situaci√≥n Tributaria IGV</h3>
                    </div>
                    <div class="metric">
                        <span class="metric-label">IGV Compras</span>
                        <span class="metric-value positive">S/ 3,276</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">IGV Ventas</span>
                        <span class="metric-value">S/ 10,224</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">IGV a Pagar</span>
                        <span class="metric-value negative">S/ 6,948</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Cr√©dito Fiscal Disponible</span>
                        <span class="metric-value positive">S/ 1,850</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Configuraci√≥n global de Chart.js para modo oscuro
        Chart.defaults.color = '#e2e8f0';
        Chart.defaults.backgroundColor = 'rgba(59, 130, 246, 0.1)';
        Chart.defaults.borderColor = 'rgba(148, 163, 184, 0.2)';

        // Funci√≥n para cambiar dashboard
        function showDashboard(type) {
            // Ocultar todos los dashboards
            document.querySelectorAll('.dashboard').forEach(d => d.classList.remove('active'));
            document.querySelectorAll('.selector-btn').forEach(b => b.classList.remove('active'));
            
            // Mostrar dashboard seleccionado
            document.getElementById(type).classList.add('active');
            event.target.classList.add('active');
        }

        // Datos simulados para los gr√°ficos
        const monthsData = ['Ene 23', 'Feb 23', 'Mar 23', 'Abr 23', 'May 23', 'Jun 23', 
                           'Jul 23', 'Ago 23', 'Sep 23', 'Oct 23', 'Nov 23', 'Dic 23',
                           'Ene 24', 'Feb 24', 'Mar 24', 'Abr 24', 'May 24', 'Jun 24',
                           'Jul 24', 'Ago 24', 'Sep 24', 'Oct 24', 'Nov 24', 'Dic 24',
                           'Ene 25', 'Feb 25', 'Mar 25', 'Abr 25', 'May 25', 'Jun 25',
                           'Jul 25', 'Ago 25'];

        // Gr√°fico de Concentraci√≥n de Clientes (Servicios)
        const clientCtx = document.getElementById('clientConcentrationChart').getContext('2d');
        new Chart(clientCtx, {
            type: 'doughnut',
            data: {
                labels: ['TechCorp S.A.', 'InnovaSoft', 'DataSystems', 'CloudTech', 'Otros'],
                datasets: [{
                    data: [65, 15, 8, 7, 5],
                    backgroundColor: [
                        '#ef4444', // Rojo para alerta
                        '#3b82f6',
                        '#10b981',
                        '#f59e0b',
                        '#6366f1'
                    ],
                    borderColor: '#1e293b',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: { color: '#e2e8f0' }
                    }
                }
            }
        });

        // Gr√°fico de Flujo Tributario (Servicios)
        const taxCtx = document.getElementById('taxFlowChart').getContext('2d');
        new Chart(taxCtx, {
            type: 'bar',
            data: {
                labels: ['Jun 25', 'Jul 25', 'Ago 25'],
                datasets: [{
                    label: 'Renta Neta',
                    data: [3800, 4100, 4275],
                    backgroundColor: 'rgba(16, 185, 129, 0.8)',
                    borderColor: '#10b981',
                    borderWidth: 1
                }, {
                    label: 'IGV Pagado',
                    data: [2100, 2250, 2280],
                    backgroundColor: 'rgba(245, 158, 11, 0.8)',
                    borderColor: '#f59e0b',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        labels: { color: '#e2e8f0' }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: 'rgba(148, 163, 184, 0.1)' },
                        ticks: { color: '#94a3b8' }
                    },
                    x: {
                        grid: { color: 'rgba(148, 163, 184, 0.1)' },
                        ticks: { color: '#94a3b8' }
                    }
                }
            }
        });

        // Gr√°fico de Ventas Diarias (Comercio)
        const dailySalesCtx = document.getElementById('dailySalesChart').getContext('2d');
        new Chart(dailySalesCtx, {
            type: 'line',
            data: {
                labels: ['Sem 1', 'Sem 2', 'Sem 3', 'Sem 4'],
                datasets: [{
                    label: 'Agosto 2025',
                    data: [11200, 12800, 10900, 10300],
                    borderColor: '#3b82f6',
                    backgroundColor: 'rgba(59, 130, 246, 0.1)',
                    tension: 0.4,
                    fill: true
                }, {
                    label: 'Julio 2025',
                    data: [9800, 10500, 9200, 8900],
                    borderColor: '#94a3b8',
                    backgroundColor: 'rgba(148, 163, 184, 0.05)',
                    tension: 0.4,
                    borderDash: [5, 5]
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        labels: { color: '#e2e8f0' }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: 'rgba(148, 163, 184, 0.1)' },
                        ticks: { color: '#94a3b8' }
                    },
                    x: {
                        grid: { color: 'rgba(148, 163, 184, 0.1)' },
                        ticks: { color: '#94a3b8' }
                    }
                }
            }
        });

        // Gr√°fico de Proveedores (Comercio)
        const suppliersCtx = document.getElementById('suppliersChart').getContext('2d');
        new Chart(suppliersCtx, {
            type: 'polarArea',
            data: {
                labels: ['HP Inc.', 'Lenovo', 'Canon', 'Logitech', 'Samsung'],
                datasets: [{
                    data: [35, 28, 18, 12, 7],
                    backgroundColor: [
                        'rgba(59, 130, 246, 0.8)',
                        'rgba(16, 185, 129, 0.8)',
                        'rgba(245, 158, 11, 0.8)',
                        'rgba(239, 68, 68, 0.8)',
                        'rgba(99, 102, 241, 0.8)'
                    ],
                    borderColor: '#1e293b',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: { color: '#e2e8f0' }
                    }
                },
                scales: {
                    r: {
                        grid: { color: 'rgba(148, 163, 184, 0.2)' },
                        ticks: { color: '#94a3b8' }
                    }
                }
            }
        });

        // Gr√°fico de Tendencia de Ticket (Comercio)
        const ticketCtx = document.getElementById('ticketTrendChart').getContext('2d');
        new Chart(ticketCtx, {
            type: 'line',
            data: {
                labels: ['Ene 25', 'Feb 25', 'Mar 25', 'Abr 25', 'May 25', 'Jun 25', 'Jul 25', 'Ago 25'],
                datasets: [{
                    label: 'Ticket Promedio',
                    data: [45, 48, 52, 55, 58, 62, 58, 65],
                    borderColor: '#10b981',
                    backgroundColor: 'rgba(16, 185, 129, 0.1)',
                    tension: 0.4,
                    fill: true,
                    pointBackgroundColor: '#10b981',
                    pointBorderColor: '#065f46',
                    pointRadius: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        labels: { color: '#e2e8f0' }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: false,
                        grid: { color: 'rgba(148, 163, 184, 0.1)' },
                        ticks: { color: '#94a3b8' }
                    },
                    x: {
                        grid: { color: 'rgba(148, 163, 184, 0.1)' },
                        ticks: { color: '#94a3b8' }
                    }
                }
            }
        });

        // Gr√°fico Costos vs Ingresos (Productivas)
        const costRevenueCtx = document.getElementById('costRevenueChart').getContext('2d');
        new Chart(costRevenueCtx, {
            type: 'line',
            data: {
                labels: ['Mar 25', 'Abr 25', 'May 25', 'Jun 25', 'Jul 25', 'Ago 25'],
                datasets: [{
                    label: 'Ventas Totales',
                    data: [48000, 52000, 54500, 53200, 55800, 56800],
                    borderColor: '#10b981',
                    backgroundColor: 'rgba(16, 185, 129, 0.1)',
                    tension: 0.4,
                    fill: false
                }, {
                    label: 'Costos Insumos',
                    data: [14500, 15800, 16200, 15900, 15800, 18200],
                    borderColor: '#ef4444',
                    backgroundColor: 'rgba(239, 68, 68, 0.1)',
                    tension: 0.4,
                    fill: false
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        labels: { color: '#e2e8f0' }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: 'rgba(148, 163, 184, 0.1)' },
                        ticks: { color: '#94a3b8' }
                    },
                    x: {
                        grid: { color: 'rgba(148, 163, 184, 0.1)' },
                        ticks: { color: '#94a3b8' }
                    }
                }
            }
        });

        // Gr√°fico de Margen (Productivas)
        const marginCtx = document.getElementById('marginChart').getContext('2d');
        new Chart(marginCtx, {
            type: 'bar',
            data: {
                labels: ['Mar 25', 'Abr 25', 'May 25', 'Jun 25', 'Jul 25', 'Ago 25'],
                datasets: [{
                    label: 'Margen Bruto %',
                    data: [69.8, 69.6, 70.3, 70.1, 71.7, 68.0],
                    backgroundColor: [
                        'rgba(16, 185, 129, 0.8)',
                        'rgba(16, 185, 129, 0.8)',
                        'rgba(16, 185, 129, 0.8)',
                        'rgba(16, 185, 129, 0.8)',
                        'rgba(16, 185, 129, 0.8)',
                        'rgba(245, 158, 11, 0.8)' // Color de alerta para agosto
                    ],
                    borderColor: '#10b981',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        labels: { color: '#e2e8f0' }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 80,
                        grid: { color: 'rgba(148, 163, 184, 0.1)' },
                        ticks: { 
                            color: '#94a3b8',
                            callback: function(value) {
                                return value + '%';
                            }
                        }
                    },
                    x: {
                        grid: { color: 'rgba(148, 163, 184, 0.1)' },
                        ticks: { color: '#94a3b8' }
                    }
                }
            }
        });

        // Animaciones de entrada
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.card, .kpi-card');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                setTimeout(() => {
                    card.style.transition = 'all 0.6s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 100);
            });
        });

        // Efecto de hover en las tablas
        document.querySelectorAll('.table tbody tr').forEach(row => {
            row.addEventListener('mouseenter', function() {
                this.style.backgroundColor = 'rgba(59, 130, 246, 0.1)';
            });
            row.addEventListener('mouseleave', function() {
                this.style.backgroundColor = '';
            });
        });

        // Actualizaci√≥n autom√°tica de fechas (simulada)
        setInterval(function() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('es-PE');
            document.title = `üìä Dashboards RER - ${timeString}`;
        }, 1000);

        console.log('‚úÖ Dashboards RER cargados correctamente');
        console.log('üáµüá™ Sistema optimizado para empresas del R√©gimen Especial de Renta');
    </script>
</body>
</html>