<h2 class="text-3xl font-bold mb-8 text-center text-white" style="font-family: 'Poppins', sans-serif;">Selecciona tu método</h2>

<form 
  hx-post="/app/payments/manual-entry" 
  hx-target=".payment-flow__content" 
  hx-swap="innerHTML"
  class="flex flex-col flex-grow"
>
    <input type="hidden" name="origen_app" id="origen_app_hidden_input" value="yape">

    <div class="flex justify-center items-center gap-8 mb-8">
        <!-- Botón Yape: Ahora establece el color púrpura de Yape -->
        <button type="button" id="btn-yape"
                class="payment-method-btn btn-yape is-active grow"
                _="on click
                    add .is-active to me then remove .is-active from #btn-plin
                    set value of #origen_app_hidden_input to 'yape'
                    set #submit-btn.style.backgroundColor to 'var(--yasta-yape-color)'
                    remove .is-collapsed from #security-code-wrapper
                "
        >
            <img src="/static/img/yape-logo.png" alt="Yape">
        </button>
        
        <!-- Botón Plin: Ahora establece el color celeste de Plin -->
        <button type="button" id="btn-plin"
            class="payment-method-btn btn-plin grow"
            _="on click
                add .is-active to me then remove .is-active from #btn-yape
                set value of #origen_app_hidden_input to 'plin'
                set #submit-btn.style.backgroundColor to 'var(--yasta-plin-color)'
                add .is-collapsed to #security-code-wrapper
            "
        >
          <img src="/static/img/plin-logo.jpg" alt="Plin">
      </button>
    </div>
  
    <div class="space-y-4">
        <div class="form-group"><label for="numero_operacion" class="form-label">Número de Operación</label><input type="text" name="numero_operacion" id="numero_operacion" required class="form-input"></div>
        <div class="form-group"><label for="monto_pagado" class="form-label">Monto Pagado (S/.)</label><input type="number" step="0.01" name="monto_pagado" id="monto_pagado" required class="form-input"></div>
        <div id="security-code-wrapper" class="form-field-wrapper"><div class="form-group"><label for="codigo_seguridad" class="form-label">Código de Seguridad (Opcional)</label><input type="text" name="codigo_seguridad" id="codigo_seguridad" maxlength="3" pattern="[0-9]{3}" placeholder="Ej: 837" class="form-input"></div></div>
    </div>

    <div class="mt-auto pt-8">
        <!-- BOTÓN DE PAGO MEJORADO: quitamos 'color: white' del style para que la clase !text-white funcione -->
        <button id="submit-btn" type="submit" 
                class="btn w-full btn-lg font-bold transition-all duration-300 !rounded-xl"
                style="background-color: var(--yasta-yape-color); font-family: 'Poppins', sans-serif; letter-spacing: 0.5px; color: #FFFFFF !important;">
            Registrar Pago
        </button>
    </div>
</form>